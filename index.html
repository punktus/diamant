
<!doctype html>
<html lang="sv-se">
<head>
  <meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
	<meta name="description" content="" />
	<style>
		:root {
			--card-size: 93px; /* hahaha jag är kul */
			--main-color:  #cf6f6f;
			--color1: #ffc0cb;
			--color2: #c0cbff;
			/**/
			--card-color: var(--color1);
		}
		
		html { 
			background-color: var(--main-color);
		     }
		body {
			text-align: center;
		}
		main > div {
			outline: 3px dotted green;
			margin: 0.5em;
			padding: 0.5em;
		}
		.cards {
			display: flex;
			flex-wrap: wrap;
			justify-content: center;
			gap: 20px;
			margin: 20px 0;
		}
		.card { 
			outline: 3px dotted green;
			width: var(--card-size);
			height: var(--card-size);
			line-height: var(--card-size);
			background-color: var(--card-color);
			white-space: nowrap;			
			padding: 5px;
			overflow: hidden;
			text-overflow: ellipsis;
			text-align: center;
		}
	</style>
</head>
<body>
	
	<div id="dataDisplay">Waiting for data...</div>
	
	<header><h1>Spelet Diamant</h1></header>
	
	<div id="game-info" hidden>
		<h2>GAme info</h2>
		
		<p>Spel: 123-456</p>
		<p>Runda: 1</p>
		<ul>
			<li><span>x</span> Gul</li>
			<li><span>x</span> Beige</li>
			<li><span>x</span> Röd</li>
			<li><span>x</span> Rosa</li>
		</ul>
	</div>

	
	<main>
		
		<div id="step-init">
			<h2>Join / Create game</h2>
			<div>
				<label for="join-field">Join game</label>
				<input id="join-field" type="text" name="">
				<button id="joinBtn">Join</button>
			</div>
			<div>
				<button id="createBtn">New Game</button>
			</div>
		</div>

		<div id="step-start" hidden>
			<h2>Start game: [<span></span>]</h2>
			<button id="startBtn">Start</button>
		</div>

		<div id="step-play" hidden>
			<h2>Play</h2>
			<div class="cards">
				<div class="card">Kort 1</div>
				<div class="card">Kort 2</div>
				<div class="card">Kort 3</div>
				<div class="card">Kort 4</div>
			</div>
			<button id="homeBtn">Hem</button>
			<button id="downBtn">Ner</button>
		</div>

		<div id="step-new-round" hidden>
			<h2>New round</h2>
			<button id="startRoundBtn"></button>
		</div>
		
		<div id="step-game-over" hidden>
			<h2>Game Over</h2>
			<p>VInnaren är.....</p>
			<ol>
				<li><span>100p</span> <span>Gul</span></li>
				<li><span>78p</span> <span>Röd</span></li>
				<li><span>12p</span> <span>Beige</span></li>
				<li><span>1p</span> <span>Rosa</span></li>
			</ul>
				<p>Slut i rutan!</p>
		</div>

		<div id="game-user" hidden>
			<h2>Game user</h3>
			färg<br />
			poäng i kistan<br />
			poäng i näven
		</div>

	</main>
	
	<script>
    
		//
    const game = {

        gameId: '123456',
        userId: '19770823',
        
        gameState: 0,
        users: [],
		
		settings: {
			gameStates: {
				0: 'init', // create OR join
				1: 'start', // created - users joining - owner can click to start 
				2: 'play', // round running - users choosing
				3: 'new-round', // round done - owner can start new round
				4: 'game-over' // show rank (no restart, sorry)
			},
			colors: ['red', 'blue', 'yellow', 'purple', 'beige', 'greeen','salmon', 'darkturquoise', 'orange', 'aquamarine'],		
			version: "1.0.0",
			author: "Pontus Kastberg - punktus@öpunktus.nu"
		}
	}

	// Elements (buttons & sections)
	const joinBtn = document.getElementById('joinBtn');
	const createBtn = document.getElementById('createBtn');
	const homeBtn = document.getElementById('homeBtn');
    const downBtn = document.getElementById('downBtn');

    // Start 
    function init(){
        console.log('init');
    }
		
    // Connect
    function connect() {
        console.log('connect');

	    // 1: Establish a WebSocket connection
		const socket = new WebSocket('wss://echo.websocket.org');

	     // 2: Listen for WebSocket events
	    socket.onopen = () => {
	        console.log('WebSocket connection established.');
	
	        socket.send('Hello, WebSocket!');
	    }

		// 3: Handle the incoming message and update the UI
		socket.onmessage = (event) => {
	        
	    	console.log('Message received from WebSocket:', event.data);
	
	        const data = event.data; // The data sent by the WebSocket server
	        const dataDisplayElement = document.getElementById('dataDisplay');
	        
	        // Update the UI with the received data
	        dataDisplayElement.textContent = `Received data: ${data}`;
	    }
	
	    socket.onerror = (error) => {
	        console.log(`WebSocket Error: ${error}`);
	    }
	
	    socket.onclose = () => {
	        console.log('WebSocket connection closed.');
	    }
    }

   

    //
    function updateUi(){
        console.log('updateUi');
    }

/*    // Set up a loop to send a message every 5 seconds (5000 milliseconds)
    setInterval(() => {

        // Your message to send
        const message = { data: 'Hello, Server!' };

        // Send the message through the WebSocket
        socket.send(JSON.stringify(message));

        console.log('Message sent:', message);

    }, 5000);
*/

    


	// events
	joinBtn.addEventListener('click', function() {
	  console.log('join!');
	});
		
	createBtn.addEventListener('click', function() {
	  console.log('create!');
	});

	homeBtn.addEventListener('click', function() {
	  console.log('home!');
	});
	
	downBtn.addEventListener('click', function() {
	  console.log('down!');
	});
		
    //homeBtn.onclick = function () {
        //socket.send('home', userId);
        //log('home', 'send');
    //}

		function toggleUi(){
			console.log('toggleUi')
		}

		
	// initiate da shajt
	init();
	
</script>
</body>
</html>
